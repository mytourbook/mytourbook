<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>

   <extension-point id="deviceDataReader"             name="Device Data Reader"           schema="schema/deviceDataReader.exsd"/>
   <extension-point id="exportTour"                   name="Export Tours"                 schema="schema/exportTour.exsd"/>
   <extension-point id="externalDeviceDataReader"     name="External Device Data Reader"  schema="schema/externalDeviceDataReader.exsd"/>
   <extension-point id="mapOverlay"                   name="MapOverlay"                   schema="schema/mapOverlay.exsd"/>
   <extension-point id="printTour"                    name="Print Tours"                  schema="schema/printTour.exsd"/>
   <extension-point id="net.tourbook.statisticYear"   name="Year Statistic"               schema="schema/net.tourbook.statisticYear.exsd"/>
   <extension-point id="tilefactory"                  name="TileFactory"                  schema="schema/tilefactory.exsd"/>
   <extension-point id="fileSystem"                   name="File System"                  schema="schema/fileSystem.exsd"/>
   <extension-point id="cloudUploader"                name="Cloud Uploader"               schema="schema/cloudUploader.exsd"/>
   <extension-point id="cloudDownloader"              name="Cloud Downloader"             schema="schema/cloudDownloader.exsd"/>

   <extension        point="org.eclipse.core.runtime.applications"   id="net.tourbook.appWithoutJRE">
      <application>
         <run class="net.tourbook.application.Application"/>
      </application>
   </extension>

   <extension        point="org.eclipse.core.runtime.applications"   id="net.tourbook.appWithJRE">
      <application>
         <run class="net.tourbook.application.Application"/>
      </application>
   </extension>

   <extension        point="org.eclipse.core.runtime.products"       id="productWithoutJRE">

      <product       name="MyTourbook"                application="net.tourbook.appWithoutJRE">

         <property   name="appName"                   value="MyTourbook"/>
         <property   name="aboutText"                 value="%Product_about"/>
         <property   name="aboutImage"                value="icons/application/tourbook-about.png"/>
         <property   name="windowImages"              value="icons/application/tourbook16.png,icons/application/tourbook32.png,icons/application/tourbook48.png,icons/application/tourbook64.png,icons/application/tourbook128.png"/>
         
         <property   name="preferenceCustomization"   value="plugin_customization.ini"/>
         <property   name="lifeCycleURI"              value="bundleclass://net.tourbook/net.tourbook.application.LifeCycleManager"/>
         
      </product>
   </extension>

   <extension        point="org.eclipse.core.runtime.products"    id="productWithJRE">

      <product       name="MyTourbook"                application="net.tourbook.appWithJRE">

         <property   name="appName"                   value="MyTourbook"/>
         <property   name="aboutText"                 value="%Product_about"/>
         <property   name="aboutImage"                value="icons/application/tourbook-about.png"/>
         <property   name="windowImages"              value="icons/application/tourbook16.png,icons/application/tourbook32.png,icons/application/tourbook48.png,icons/application/tourbook64.png,icons/application/tourbook128.png"/>
         
         <property   name="preferenceCustomization"   value="plugin_customization.ini"/>
         <property   name="lifeCycleURI"              value="bundleclass://net.tourbook/net.tourbook.application.LifeCycleManager"/>
         
      </product>
   </extension>


   <extension        point="org.eclipse.core.runtime.preferences">
   
      <initializer   class="net.tourbook.preferences.PreferenceInitializer"/>
      <initializer   class="net.tourbook.srtm.PreferenceInitializer"/>
      <initializer   class="de.byteholder.geoclipse.preferences.PreferenceInitializer"/>
      <initializer   class="net.tourbook.proxy.PreferenceInitializer"/>
      
   </extension>
   

<!-- Software Updates

   <extension   point="org.eclipse.ui.actionSets">
   
      <actionSet
         id="net.tourbook.update.actionSet"
         label="Update Management"
         visible="true">

         <action
            id="net.tourbook.update.action_update"
            class="net.tourbook.update.InstallWizardAction"
            definitionId="org.eclipse.ui.update.findAndInstallUpdates"
            label="%action_software_updates"
            menubarPath="m_Help/g_SoftwareUpdate">
         </action>
         
      </actionSet>
   </extension>
-->
   
   <extension	point="org.eclipse.ui.editors">
      <editor
            class="net.tourbook.tour.TourEditor"
            icon="icons/tour-viewer.png"
            id="net.tourbook.tour.TourEditor"
            name="%command_view_tourViewer">
      </editor>
   </extension>

   <extension	point="org.eclipse.ui.elementFactories">
      <factory
            class="net.tourbook.tour.TourEditorInputFactory"
            id="net.tourbook.tour.TourEditorInputFactory">
      </factory>
   </extension>


   <extension	point="org.eclipse.ui.perspectives">

      <perspective
            class="net.tourbook.application.PerspectiveFactoryRawData"
            icon="icons/imported-tours-perspective.png"
            id="net.tourbook.perspective.RawData"
            name="%perspective_name_RawData"/>

      <perspective
            class="net.tourbook.application.PerspectiveFactoryTourBook"
            icon="icons/tourbook-tours-perspective.png"
            id="net.tourbook.perspective.TourBook"
            name="%perspective_name_TourBook"/>

      <perspective
            class="net.tourbook.application.PerspectiveFactoryTourCatalog"
            icon="icons/reference-tours-perspective.png"
            id="net.tourbook.perspective.TourCatalog"
            name="%perspective_name_ReferenceTours"/>

      <perspective
            class="net.tourbook.application.PerspectiveFactoryStatistic"
            icon="icons/statistics-perspective.png"
            id="net.tourbook.perspective.Statistic"
            name="%perspective_name_Statistics"/>

      <perspective
            class="net.tourbook.application.PerspectiveFactoryCompareTours"
            icon="icons/tour-map-compare-result-perspective.png"
            id="net.tourbook.perspective.CompareTours"
            name="%perspective_name_CompareTours"/>

      <perspective
            class="net.tourbook.application.PerspectiveFactoryPhoto"
            icon="icons/photo-merge-perspective.png"
            id="net.tourbook.perspective.TourPhotoLinks"
            name="%Perspective_Name_ToursAndPhotos"/>

   </extension>

   <extension point="org.eclipse.ui.perspectiveExtensions">

      <perspectiveExtension targetID="*">

         <perspectiveShortcut id="net.tourbook.perspective.TourBook"/>
         <perspectiveShortcut id="net.tourbook.perspective.TourCatalog"/>
         <perspectiveShortcut id="net.tourbook.perspective.Statistic"/>
         <perspectiveShortcut id="net.tourbook.perspective.RawData"/>
         <perspectiveShortcut id="net.tourbook.perspective.CompareTours"/>
         <perspectiveShortcut id="net.tourbook.perspective.TourPhotoLinks"/>
               
      </perspectiveExtension>

   </extension>


   <!-- PREF PAGES   -->

   <extension point="org.eclipse.ui.preferencePages">

      <page
         name="%preference_page_general"
         id="net.tourbook.preferences.PrefPageGeneralId"
         class="net.tourbook.preferences.PrefPageGeneral"
      />
         <page category    ="net.tourbook.preferences.PrefPageGeneralId"
            class="net.tourbook.preferences.PrefPageComputedValues"
            id="net.tourbook.preferences.PrefPageComputedValues"
            name="%preference_page_computedValues">
         </page>
   
         <page category    ="net.tourbook.preferences.PrefPageGeneralId"
            class="net.tourbook.preferences.PrefPageTour"
            id="net.tourbook.preferences.PrefPageTour"
            name="%Pref_Page_Tour">
            <keywordReference
               id="net.tourbook.keywordReference.PrefPageTour">
            </keywordReference>
         </page>


      <!--
         2D Map
      -->
      
      <page
         name="%pref_page_map"
         id="de.byteholder.geoclipse.preferences.map"
         class="de.byteholder.geoclipse.preferences.PrefPage_Map2"
      />
         <page
            name="%pref_page_provider"
            id="de.byteholder.geoclipse.preferences.PrefPage_Map2_Providers"
            class="de.byteholder.geoclipse.preferences.PrefPage_Map2_Providers"
            category    ="de.byteholder.geoclipse.preferences.map"
         />
         <page
            name="%pref_page_cache"
            id="de.byteholder.geoclipse.preferences.PrefPageCache"
            class="de.byteholder.geoclipse.preferences.PrefPage_Map2_Cache"
            category    ="de.byteholder.geoclipse.preferences.map"
         />


      <!--
         2.5D Map
      -->
      
      <page
         name="%Pref_Page_Map25"
         id="net.tourbook.preferences.PrefPage_Map25"
         class="net.tourbook.preferences.PrefPageMap25"
      />
         <page
            name="%Pref_Page_Map25_MapProvider"
            id="net.tourbook.preferences.PrefPage_Map25_Provider"
            class="net.tourbook.preferences.PrefPage_Map25Provider"
            category    ="net.tourbook.preferences.PrefPage_Map25"
         />
         <page
            name="%Pref_Page_Map25_OfflineMap"
            id="net.tourbook.preferences.PrefPage_Map25_OfflineMap"
            class="net.tourbook.preferences.PrefPageMap25OfflineMap"
            category    ="net.tourbook.preferences.PrefPage_Map25"
         />


      <!--
         3D Map
      -->
      
      <page
         name     ="%Pref_Page_Map3"
         id       ="net.tourbook.preferences.PrefPageMap3"
         class    ="net.tourbook.preferences.PrefPageMap3"
      />
         <page
            name        ="%Pref_Page_Map3_Color"
            id          ="net.tourbook.preferences.PrefPageMap3Color"
            class       ="net.tourbook.preferences.PrefPageMap3Color"
            category    ="net.tourbook.preferences.PrefPageMap3"
         />
         
         <page
            name        ="%Pref_Page_Map3_Layer"
            id          ="net.tourbook.preferences.PrefPageMap3Layer"
            class       ="net.tourbook.preferences.PrefPageMap3Layer"
            category    ="net.tourbook.preferences.PrefPageMap3"
         />
         

      <!--
         Appearance
      -->

      <page
         name     ="%preference_page_appearance"
         id       ="net.tourbook.preferences.PrefPageAppearance"
         class    ="net.tourbook.preferences.PrefPageAppearance"
      />

         <page
            name        ="%preference_page_Graphs"
            id          ="net.tourbook.preferences.PrefPageChartGraphs"
            class       ="net.tourbook.preferences.PrefPageAppearanceTourChart"
            category    ="net.tourbook.preferences.PrefPageAppearance"
         />

         <page
            name        ="%Pref_Page_SwimmingColors"
            id          ="net.tourbook.preferences.PrefPage_Appearance_Swimming"
            class       ="net.tourbook.preferences.PrefPage_Appearance_Swimming"
            category    ="net.tourbook.preferences.PrefPageAppearance"
         />

         <page
            name        ="%preference_page_Chart_Colors"
            id          ="net.tourbook.preferences.PrefPageChartColors"
            class       ="net.tourbook.preferences.PrefPageAppearanceColors"
            category    ="net.tourbook.preferences.PrefPageAppearance"
         />

         <page
            name        ="%Pref_Page_Display_Format"
            id          ="net.tourbook.preferences.PrefPageAppearanceDisplayFormat"
            class       ="net.tourbook.preferences.PrefPageAppearanceDisplayFormat"
            category    ="net.tourbook.preferences.PrefPageAppearance"
         />

         <page
            name        ="%Pref_Page_TransformValues"
            id          ="net.tourbook.preferences.PrefPageAppearance_TransformValues"
            class       ="net.tourbook.preferences.PrefPageAppearance_TransformValues"
            category    ="net.tourbook.preferences.PrefPageAppearance"
         />


      <!--
         Import
      -->
      <page
         class    ="net.tourbook.preferences.PrefPageImport"
         id       ="net.tourbook.preferences.PrefPageImport"
         name     ="%preference_page_data_import"
      />
      
       <!--
         Cloud
      -->
      <page
         class    ="net.tourbook.preferences.PrefPageCloud"
         id       ="net.tourbook.preferences.PrefPageCloud"
         name     ="%preference_page_cloud"
      />
      
      
      <!-- 
      
         Bicycle
      
         pref page for bikes is disabled since version 11.07 because bikes 
         are currently not used and is confusing the user
         
         I set a comment around the page tag but OSX still displayed the page, this must be a bug in OSX
            
      -->


      <!--
         People
      -->
      <page
         name="%preference_page_People"
         id="net.tourbook.preferences.PrefPagePeopleId"
         class="net.tourbook.preferences.PrefPagePeople"
      />

        
      <!--
         Proxy
      -->

      <page
         name="%preference_page_Proxy"
         id="net.tourbook.preferences.PrefPageProxyId"
         class="net.tourbook.proxy.PrefPageProxy"
      />


      <!--
         Signs
      
      <page
         name="%Pref_Page_SignImages"
         id="net.tourbook.preferences.PrefPageSigns"
         class="net.tourbook.preferences.PrefPageSigns"
      />
      -->


      <!--
         SRTM
      -->

      <page
         name="%Pref_Page_SRTM"
         id="net.tourbook.srtm.PrefPageSRTMColors"
         class="net.tourbook.srtm.PrefPageSRTMColors"
      />
         <page
            name="%Pref_Page_SRTM_Data"
            id="net.tourbook.srtm.PrefPageSRTMData"
            class="net.tourbook.srtm.PrefPageSRTMData"
            category    ="net.tourbook.srtm.PrefPageSRTMColors"
         />


      <!--
         Tags
      -->

      <page
         name="%preference_page_tags"
         id="net.tourbook.preferences.PrefPageTags"
         class="net.tourbook.preferences.PrefPageTags"
      />


      <!--
         Tour Type
      -->
      
      <page
         class="net.tourbook.preferences.PrefPageTourTypeFilterList"
         id="net.tourbook.preferences.PrefPageTourTypeFilter"
         name="%preference_page_tour_type_root"
      />
         <page
            name        ="%Pref_Page_TourType_Colors"
            id          ="net.tourbook.preferences.PrefPageTourTypeDefinition"
            class       ="net.tourbook.preferences.PrefPageTourTypes"
            category    ="net.tourbook.preferences.PrefPageTourTypeFilter"
         />


      <!--
         Statistics
      -->

      <page
         name="%preference_page_statistics"
         id="net.tourbook.preferences.PrefPageStatistic"
         class="net.tourbook.preferences.PrefPageStatistic"
      />


      <!--
         View
      -->
      <page
         name="%Pref_Page_Views"
         id="net.tourbook.preferences.PrefPageViews"
         class="net.tourbook.preferences.PrefPageViews"
      />
         <page
            name="%Pref_Page_Views_Color"
            id="net.tourbook.preferences.PrefPageViewColors"
            class="net.tourbook.preferences.PrefPageViewColors"
            category    ="net.tourbook.preferences.PrefPageViews"
         />

   <!--
         Weather
      -->
      <page
         name="%Pref_Page_Weather"
         id="net.tourbook.preferences.PrefPageWeather"
         class="net.tourbook.preferences.PrefPageWeather"
      />

   </extension>


   <extension point="org.eclipse.ui.menus">


      <!-- 
         New
      -->
      <menuContribution locationURI="menu:m_New?after=ci_New">

         <command
            commandId   ="net.tourbook.command.device.importFromFile"
            icon        ="icons/import-get-tours.png"
            label       ="%command_device_importFromFile"
            mnemonic    ="%command_device_importFromFile_mnemonic"/>

         <command
            commandId   ="net.tourbook.command.device.synchronize"
            icon        ="icons/device-synchronize.png"
            label       ="%Command_Device_ReceiveFromSerialPort_Configured"
            mnemonic    ="%Command_Device_ReceiveFromSerialPort_Configured_Mnemonic"
            tooltip     ="%Command_Device_ReceiveFromSerialPort_Configured_Tooltip"/>

         <command
            commandId   ="net.tourbook.command.device.synchronize.direct"
            icon        ="icons/device-synchronize-direct.png"
            label       ="%Command_Device_ReceiveFromSerialPort_Directly"
            mnemonic    ="%Command_Device_ReceiveFromSerialPort_Directly_Mnemonic"
            tooltip     ="%Command_Device_ReceiveFromSerialPort_Directly_Tooltip"/>

         <separator
            name="net.tourbook.separator.new"
            visible="true"/>

         <command
            commandId   ="net.tourbook.command.createNewTour"
            icon        ="icons/tour-new.png"
            label       ="%Command_App_CreateNewTour"
            mnemonic    ="%Command_App_CreateNewTour_Mnemonic"/>
            
         <command
            commandId   ="net.tourbook.command.App_ClosePart"
            label       ="%Command_App_ClosePart"
            mnemonic    ="%Command_App_ClosePart_Mnemonic"
            tooltip     ="%Command_App_ClosePart_Tooltip"
         />

         <separator
            name        ="net.tourbook.separator.additional"
            visible     ="true"/>

      </menuContribution>


      <!-- 
         Directories
      -->
      <menuContribution locationURI="menu:m_Directory?before=defaultViews">

         <!-- Search -->
   
            <command
               commandId   ="command.net.tourbook.search.SearchView"
               icon        ="icons/search.png"
               label       ="%View_Name_SearchAll"
               mnemonic    ="%View_Name_SearchAll_Mnemonic"/>
   
            <command
               commandId   ="command.de.byteholder.geoclipse.poi.ShowPOI"
               icon        ="icons/search-poi.png"
               label       ="%View_Name_SearchPOI"
               mnemonic    ="%View_Name_SearchPOI_Mnemonic"/>
   

         <!-- Directories -->

            <separator
               name        ="net.tourbook.separator.TourDirectories"
               visible     ="true"/>

            <!-- Tour Import -->
            <command 
               commandId   ="command.net.tourbook.views.rawData.RawDataView"
               icon        ="icons/imported-tours.png"
               label       ="%view_name_Data_Import"
               mnemonic    ="%view_name_Data_Import_Mnemonic"/>
                  
            <!-- Tour Book -->
            <command 
               commandId   ="command.net.tourbook.views.tourListView"
               icon        ="icons/tourbook-tours.png"
               label       ="%view_name_Book"
               mnemonic    ="%view_name_Book_Mnemonic"/>

            <!-- Tagged Tours -->
            <command 
               commandId   ="command.net.tourbook.views.tagViewID"
               icon        ="icons/tagged-tours.png"
               label       ="%command_tagging_name"
               mnemonic    ="%command_tagging_name_Mnemonic"
               tooltip     ="%command_tagging_name_tooltip"/>

            <!-- Reference Tours -->
            <command 
               commandId   ="command.net.tourbook.views.tourCatalog.TourCatalogView"
               icon        ="icons/reference-tours.png"
               label       ="%view_name_ReferenceTours"
               mnemonic    ="%view_name_ReferenceTours_Mnemonic"/>

            <!-- Collated Tours -->
            <command 
               commandId   ="command.net.tourbook.views.collatedToursViewID"
               icon        ="icons/collated-tours.png"
               label       ="%View_Name_CollatedTours"
               mnemonic    ="%View_Name_CollatedTours_Mnemonic"
               tooltip     ="%View_Name_CollatedTours_Tooltip"/>
                  
            <!-- Calendar -->
            <command 
               commandId   ="command.net.tourbook.views.calendar.CalendarView"
               icon        ="icons/calendar.png"
               label       ="%view_name_Calendar"
               mnemonic    ="%view_name_Calendar_Mnemonic"/>

            <!-- Statistics -->
            <command 
               commandId   ="command.net.tourbook.statistic.StatisticView"
               icon        ="icons/statistics.png"
               label       ="%view_name_Statistics"
               mnemonic    ="%view_name_Statistics_Mnemonic"/>

            <separator
               name        ="net.tourbook.separator.OtherDirectories"
               visible     ="true"/>

            <!-- All Tour Marker -->
            <command
               commandId   ="command.net.tourbook.ui.views.TourMarkerAllView"
               icon        ="icons/tour-marker-all.png"
               label       ="%View_Name_TourMarkerAll"
               mnemonic    ="%View_Name_TourMarkerAll_Mnemonic"/>

            <separator
               name        ="net.tourbook.separator.Sensor"
               visible     ="true"/>
               
            <!-- Sensors -->
            <command
               commandId   ="command.net.tourbook.ui.views.sensors.SensorView"
               icon        ="icons/sensor.png"
               label       ="%View_Name_Sensor"
               mnemonic    ="%View_Name_Sensor_Mnemonic"/>

            <!-- Sensor Chart -->
            <command
               commandId   ="command.net.tourbook.ui.views.sensors.SensorChartView"
               icon        ="icons/sensor-chart.png"
               label       ="%View_Name_SensorChart"
               mnemonic    ="%View_Name_SensorChart_Mnemonic"/>


            <!-- Sign Images 
            <command
               commandId="command.net.tourbook.ui.views.signImages.TourSignView"
               icon="icons/sign-image.png"
               label="%View_Name_SignImage"
               mnemonic="%View_Name_SignImage_Mnemonic"/>
            -->
                  
      </menuContribution>
      

      <!-- 
         Tour
      -->
      <menuContribution locationURI="menu:m_Tour?before=defaultViews">

         <separator
            name        ="sep_Tour"
            visible     ="true"/>

         <!-- Tour Chart -->
         <command
            commandId   ="net.tourbook.command.selectedTour"
            icon        ="icons/tour-chart.png"
            label       ="%command_view_selectedTour"
            mnemonic    ="%command_view_selectedTour_mnemonic"
            tooltip     ="%command_view_selectedTour_tooltip"/>

         <!-- Tour Editor - this command is displayed in the "Tour" and the "Tools" menu -->
         <command
            commandId   ="net.tourbook.command.tourDataEditor"
            icon        ="icons/tour-editor.png"
            label       ="%command_view_tourEditor"
            mnemonic    ="%command_view_tourEditor_mnemonic"
            tooltip     ="%command_view_tourEditor_tooltip"/>
          
         <!-- Tour Blog -->
         <command
            commandId   ="command.net.tourbook.views.TourBlogView"
            icon        ="icons/tour-blog.png"
            label       ="%View_Name_TourBlog"
            mnemonic    ="%View_Name_TourBlog_Mnemonic"/>

         <!-- Tour Info -->
         <command
            commandId   ="command.net.tourbook.views.TourInfo_View"
            icon        ="icons/tour-info.png"
            label       ="%View_Name_TourInfo"
            mnemonic    ="%View_Name_TourInfo_Mnemonic"/>

         <!-- Tour Pauses -->
         <command
            commandId   ="command.net.tourbook.views.TourPausesView"
            icon        ="icons/tour-pauses.png"
            label       ="%View_Name_TourPauses"
            mnemonic    ="%View_Name_TourPauses_Mnemonic"/>

         <!-- Tour Photos -->
         <command
            commandId   ="command.net.tourbook.photo.TourPhotosView"
            icon        ="icons/photo-tour-photos.png"
            label       ="%View_Name_PhotoTourPhotos"
            mnemonic    ="%View_Name_PhotoTourPhotos_Mnemonic"/>

         <!-- Tour Marker -->
         <command
            commandId   ="command.net.tourbook.views.TourMarkerView"
            icon        ="icons/tour-marker.png"
            label       ="%view_name_Marker"
            mnemonic    ="%view_name_Marker_Mnemonic"/>

         <!-- Tour Tags -->
         <command
            commandId   ="command.net.tourbook.ui.views.tagging.TourTags_View"
            icon        ="icons/tour-tags.png"
            label       ="%View_Name_TourTags"
            mnemonic    ="%View_Name_TourTags_Mnemonic"/>
          
         <!-- Waypoints -->
         <command
            commandId   ="command.net.tourbook.views.TourWaypointView"
            icon        ="icons/tour-waypoint.png"
            label       ="%View_Name_Waypoint"
            mnemonic    ="%View_Name_Waypoint_Mnemonic"/>

         <!-- Tour Data -->
         <command
            commandId   ="command.net.tourbook.views.TourData_View"
            icon        ="icons/tour-data.png"
            label       ="%View_Name_TourData"
            mnemonic    ="%View_Name_TourData_Mnemonic"/>

      </menuContribution>


      <menuContribution locationURI="menu:m_Tour?after=group_AfterSaveTour">

         <!-- Save Tour -->
         <command
            commandId      ="command.net.tourbook.tour.SaveTour"
            mnemonic       ="%Command_Tour_SaveTour_Mnemonic"
            tooltip        ="%Command_Tour_SaveTour_Tooltip">
            
            <visibleWhen   checkEnabled="false">
               <reference  definitionId="net.tourbook.definition.isTourEditorActive"/>
            </visibleWhen>
         </command>

         <!-- Restore Tour -->
         <command
            commandId      ="command.net.tourbook.tour.RestoreTour"
            mnemonic       ="%Command_Tour_RestoreTour_Mnemonic"
            tooltip        ="%Command_Tour_RestoreTour_Tooltip">
            
            <visibleWhen   checkEnabled="false">
               <reference  definitionId="net.tourbook.definition.isTourEditorActive"/>
            </visibleWhen>
         </command>

      </menuContribution>


      <!-- 
         Map
      -->
      <menuContribution locationURI="menu:m_Map?before=defaultViews">

         <!-- 2D map -->
         <command
            commandId   ="net.tourbook.mapping.command.tourMap"
            icon        ="icons/map2-view.png"
            label       ="%command_tour_map_name"
            mnemonic    ="%command_tour_map_name_Mnemonic"
            tooltip     ="%command_tour_map_name_tooltip"/>

         <separator
            name        ="sep_Map"
            visible     ="false"/>

         <separator
            name        ="sep_Bookmarks"
            visible     ="true"/>

      </menuContribution>
      
      
      <!-- 
         Tools
      -->
      <menuContribution locationURI="menu:m_Tools?after=tools">

         <!-- Tour-->

            <!-- Tour Editor - is displayed in the "Tour" and the "Tools" menu -->
            <command
               commandId   ="net.tourbook.command.tourDataEditor"
               icon        ="icons/tour-editor.png"
               label       ="%command_view_tourEditor"
               mnemonic    ="%command_view_tourEditor_mnemonic"
               tooltip     ="%command_view_tourEditor_tooltip"/>

            <command
               commandId   ="net.tourbook.command.tourChart.tool.tourSegmenter"
               icon        ="icons/tour-segmenter.png"
               label       ="%command_tourChart_tool_tourSegmenter"
               mnemonic    ="%command_tourChart_tool_tourSegmenter_mnemonic"
               style       ="push"
               tooltip     ="%command_tourChart_tool_tourSegmenter_tooltip"/>

            <command
               commandId   ="net.tourbook.command.tourChart.tool.graphAnalyzer"
               icon        ="icons/tour-analyzer.png"
               label       ="%command_tourChart_tool_graphAnalyzer"
               mnemonic    ="%command_tourChart_tool_graphAnalyzer_mnemonic"
               style       ="push"
               tooltip     ="%command_tourChart_tool_graphAnalyzer_tooltip"/>

            <command
               commandId   ="net.tourbook.command.tourCompareWizard"
               icon        ="icons/tour-map-compare-wizard.png"
               label       ="%command_tourCompare_wizard"
               mnemonic    ="%command_tourCompare_wizard_mnemonic"/>

            <command
               commandId   ="net.tourbook.command.GeoParts"
               icon        ="icons/geo-parts.png"
               label       ="%Command_GeoParts"
               mnemonic    ="%Command_GeoParts_Mnemonic"/>
               
            <command
               commandId   ="command.net.tourbook.ui.views.TourChartSmoothingView"
               icon        ="icons/smooth.png"
               label       ="%View_Name_TourChartSmoothing"
               mnemonic    ="%View_Name_TourChartSmoothing_Mnemonic"/>
               
            <command
               commandId   ="command.net.tourbook.statistic.StatisticValuesView"
               icon        ="icons/statistic-values.png"
               label       ="%View_Name_StatisticValues"
               mnemonic    ="%View_Name_StatisticValues_Mnemonic"/>

            <separator
               name="net.tourbook.separator.Tour"
               visible="true"/>

         <!-- Sport -->

            <!-- Training -->
            <command
               commandId   ="command.net.tourbook.training.Training"
               icon        ="icons/pulse-zones.png"
               label       ="%View_Name_Training"
               mnemonic    ="%View_Name_Training_Mnemonic"/>
            
            <!-- Conconi Test -->
            <command
               commandId   ="command.net.tourbook.views.ConconiChart"
               icon        ="icons/conconi-chart.png"
               label       ="%View_Name_ConconiChart"
               mnemonic    ="%View_Name_ConconiChart_Mnemonic"/>
            
            <!-- Heart Rate Variability -->
            <command
               commandId   ="command.net.tourbook.views.HeartRateVariabilityChart"
               icon        ="icons/heart-rate-variability.png"
               label       ="%View_Name_HeartRateVariabilityChart"
               mnemonic    ="%View_Name_HeartRateVariabilityChart_Mnemonic"/>
      
      </menuContribution>


      <!-- 
         Help
      -->
      <menuContribution locationURI="menu:m_Help?before=about">

         <!-- Home Page -->
         <command
            commandId   ="net.tourbook.command.OpenHomePage"
            label       ="%Command_App_OpenHomePage"
            mnemonic    ="%Command_App_OpenHomePage_Mnemonic"/>

         <!-- Forum  -->
         <command
            commandId   ="net.tourbook.command.OpenForum"
            label       ="%Command_App_OpenForum"
            mnemonic    ="%Command_App_OpenForum_Mnemonic"/>

         <separator
            name        ="g_SoftwareUpdate"
            visible     ="true"/>

         <separator
            name        ="g_Log"
            visible     ="true"/>

         <!-- Tour Log-->
         <command
            commandId   ="command.net.tourbook.tour.TourLogView"
            icon        ="icons/tour-log.png"
            label       ="%Command_TourLog_View"
            mnemonic    ="%Command_TourLog_View_Mnemonic"/>

         <!-- Error Log -->
         <command
            commandId   ="org.eclipse.ui.views.showView"
            icon        ="icons/error_log.gif"
            label       ="%command_error_view"
            mnemonic    ="%command_error_view_mnemonic"
            style       ="push">

            <parameter
               name="org.eclipse.ui.views.showView.viewId"
               value="org.eclipse.pde.runtime.LogView">
            </parameter>
         </command>

         <!-- Database Consistency Check -->
         <command
            commandId   ="net.tourbook.command.dbTool.consistencyCheck"
            label       ="%command_dbtool_consistency_check"
            mnemonic    ="%command_dbtool_consistency_check_mnemonic"
            style       ="push"/>

         <!-- Database Size Info -->
         <command
            commandId   ="net.tourbook.command.DbTool.CompressDatabase"
            label       ="%Command_DbTool_CompressDatabase"
            mnemonic    ="%Command_DbTool_CompressDatabase_Mnemonic"
            style       ="push"/>

      </menuContribution>


      <!--
         Photo filter
      -->
      <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar">

         <toolbar id="mc_tb_AppFilter" label="%Toolbar_Name_PhotoFilter">
      
            <command
                  commandId   ="command.net.tourbook.PhotoFilter"
                  icon        ="icons/tour-filter-tour-with-photos.png" 
                  style       ="toggle"
                  tooltip     ="%Action_TourPhotoFilter_Tooltip"/>
      
         </toolbar>
            
      </menuContribution>


      <!--
         Important views are displayed in the app toolbar
      -->
      <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar">
      
         <toolbar id="mc_tb_Directory" label="%Toolbar_Name_Directory">
            
            <!-- Tour Import -->
            <command 
               commandId   ="command.net.tourbook.views.rawData.RawDataView"
               icon        ="icons/imported-tours.png"
               label       ="%view_name_Data_Import"
               mnemonic    ="%view_name_Data_Import_Mnemonic"/>
            
            <!-- Tour Book -->
            <command 
               commandId   ="command.net.tourbook.views.tourListView"
               icon        ="icons/tourbook-tours.png"
               label       ="%view_name_Book"
               mnemonic    ="%view_name_Book_Mnemonic"/>
               
            <!-- Calendar -->
            <command 
               commandId   ="command.net.tourbook.views.calendar.CalendarView"
               icon        ="icons/calendar.png"
               label       ="%view_name_Calendar"
               mnemonic    ="%view_name_Calendar_Mnemonic"/>

            <!-- Statistics -->
            <command 
               commandId   ="command.net.tourbook.statistic.StatisticView"
               icon        ="icons/statistics.png"
               label       ="%view_name_Statistics"
               mnemonic    ="%view_name_Statistics_Mnemonic"/>
            
         </toolbar>
      </menuContribution>

      <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar">
      
         <toolbar id="mc_tb_Tour" label="%Toolbar_Name_Tour">
            
            <!-- Tour Chart -->
            <command
               commandId   ="net.tourbook.command.selectedTour"
               icon        ="icons/tour-chart.png"
               label       ="%command_view_selectedTour"
               mnemonic    ="%command_view_selectedTour_mnemonic"
               tooltip     ="%command_view_selectedTour_tooltip"/>
                    
            <!-- 2D Map -->
            <command
               commandId   ="net.tourbook.mapping.command.tourMap"
               icon        ="icons/map2-view.png"
               label       ="%command_tour_map_name"
               tooltip     ="%command_tour_map_name_tooltip"/>
            
         </toolbar>
      </menuContribution>


      <!--
         Important tools are displayed in the app toolbar
      -->

      <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar">

         <toolbar id="mc_tb_TourEditor" label="%Toolbar_Name_Tools">

            <command
               commandId      ="net.tourbook.command.tourDataEditor"
               icon           ="icons/tour-editor.png"
               label          ="%command_view_tourEditor"
               tooltip        ="%command_view_tourEditor_tooltip"/>

            <command
               commandId      ="net.tourbook.command.createNewTour"
               icon           ="icons/tour-new.png"
               tooltip        ="%Command_App_CreateNewTour_Tooltip"/>

            <!-- Save Tour -->
            <command
               commandId      ="command.net.tourbook.tour.SaveTour"
               icon           ="icons/save-tour.png"
               disabledIcon   ="icons/save-tour-disabled.png"
               tooltip        ="%Command_Tour_SaveTour_Tooltip">

               <visibleWhen   checkEnabled="false">
                  <reference  definitionId="net.tourbook.definition.isTourEditorActive"/>
               </visibleWhen>
            </command>
            
            <!-- Restore Tour -->
            <command
               commandId      ="command.net.tourbook.tour.RestoreTour"
               tooltip        ="%Command_Tour_RestoreTour_Tooltip">

               <visibleWhen   checkEnabled="false">
                  <reference  definitionId="net.tourbook.definition.isTourEditorActive"/>
               </visibleWhen>
            </command>

         </toolbar>
         
            
      </menuContribution>
      
      
      <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar">
      
         <toolbar id="net.tourbook.toolbars.general" label="%Toolbar_Name_General">

            <!-- Search -->

            <command
               commandId   ="command.net.tourbook.search.SearchView"
               icon        ="icons/search.png"
               label       ="%View_Name_SearchAll"
               tooltip     ="%View_Name_SearchAll_Tooltip"/>

            <command
               commandId   ="command.de.byteholder.geoclipse.poi.ShowPOI"
               icon        ="icons/search-poi.png"
               label       ="%View_Name_SearchPOI"
               tooltip     ="%View_Name_SearchPOI_Tooltip"/>

            <!-- Preferences -->
            <command
               commandId   ="command.net.tourbook.preferences"
               icon        ="icons/options.png"
               label       ="%command_general_preferences"
               style       ="push"/>

         </toolbar>
      </menuContribution>
           
      <menuContribution locationURI="toolbar:org.eclipse.ui.trim.status">

         <toolbar id="net.tourbook.mapping.statusline.mapinfo">

            <control 
                  class="net.tourbook.map.MapInfoContribution"
                  id="net.tourbook.mapping.mapinfo">
            </control>
         </toolbar>
      </menuContribution>
      
      <menuContribution locationURI="toolbar:org.eclipse.ui.trim.status">

         <toolbar id="de.byteholder.geoclipse.toolbar.tileinfo">

            <control
                  class="de.byteholder.geoclipse.tileinfo.TileInfoContribution"
                  id="de.byteholder.geoclipse.tileinfo">
               <visibleWhen>
                  <test
                        forcePluginActivation="true"
                        property="de.byteholder.geoclipse.tester.someProperty"
                        value="true">
                  </test>
               </visibleWhen>
            </control>
         </toolbar>
      </menuContribution>
      
      <!--
      
         Tour import (RawDataView)
      
      -->
      <menuContribution locationURI="toolbar:net.tourbook.views.rawData.RawDataView?after=import">
      
         <command
            commandId   ="net.tourbook.command.device.importFromFile"
            icon        ="icons/import-get-tours.png"
            label       ="%command_device_importFromFile"
            mnemonic    ="%command_device_importFromFile_mnemonic"/>

         <command
            commandId   ="net.tourbook.command.device.synchronize"
            icon        ="icons/device-synchronize.png"
            label       ="%Command_Device_ReceiveFromSerialPort_Configured"
            mnemonic    ="%Command_Device_ReceiveFromSerialPort_Configured_Mnemonic"
            style       ="push"
            tooltip     ="%Command_Device_ReceiveFromSerialPort_Configured_Tooltip"/>
            
         <command
            commandId   ="net.tourbook.command.device.synchronize.direct"
            icon        ="icons/device-synchronize-direct.png"
            label       ="%Command_Device_ReceiveFromSerialPort_Directly"
            mnemonic    ="%Command_Device_ReceiveFromSerialPort_Directly_Mnemonic"
            style       ="push"
            tooltip     ="%Command_Device_ReceiveFromSerialPort_Directly_Tooltip"/>
         
      </menuContribution>


      <!--
         Photo folder (PicDirView)
      -->
   
      <menuContribution locationURI="toolbar:net.tourbook.photo.PicDirView?before=PicDirViewToolBar">
      
         <command
            commandId	="command.net.tourbook.PicDir.SyncPhotoWithTour"
            icon			="icons/photo-sync-tour.png"
            style			="toggle"
            tooltip		="%Command_PicDir_SyncPhotoWithTour_Tooltip" />
<!--
   
   ToDo: Currently this feature is working only when the button get's selected and not when it is toggled !!!
 
-->
            
      </menuContribution>

      <menuContribution locationURI="popup:menu.net.tourbook.photo.PicDirView.InFolder?before=additions" >
                  
         <command
            commandId	="command.net.tourbook.photo.LinkPhotoWithTourInFolder"
            icon			="icons/photo-link-photo-with-tour.png"
            label			="%Action_PhotoDirectory_LinkPhotoWithTourInFolder"
            mnemonic		="%Action_PhotoDirectory_LinkPhotoWithTourInFolder_Mnemonic"/>

         <!-- 
         <command
            commandId="command.net.tourbook.sign.ImportTourSignsFromFolder"
            icon="icons/tour-sign-import.png"
            label="%Action_TourSign_ImportTourSignsFromFolder"
            mnemonic="%Action_TourSign_ImportTourSignsFromFolder_Mnemonic"/>
         -->

      </menuContribution>

      <!--
         Photo images (PhotoGallery)
      -->

      <menuContribution locationURI="popup:menu.net.tourbook.photo.PhotoGallery?before=separator.net.tourbook.photo.refresh" >
                  
         <command
            commandId="command.net.tourbook.photo.LinkPhotoWithTourInGalleryAll"
            icon="icons/photo-link-photo-with-tour.png"
            label="%Action_PhotoDirectory_LinkPhotoWithTourInGalleryAll"
            mnemonic="%Action_PhotoDirectory_LinkPhotoWithTourInGalleryAll_Mnemonic"/>

         <command
            commandId="command.net.tourbook.photo.LinkPhotoWithTourInGallerySelected"
            icon="icons/photo-link-photo-with-tour.png"
            label="%Action_PhotoDirectory_LinkPhotoWithTourInGallerySelected"
            mnemonic="%Action_PhotoDirectory_LinkPhotoWithTourInGallerySelected_Mnemonic"/>

         <!--
         <command
            commandId="command.net.tourbook.sign.ImportTourSigns"
            icon="icons/tour-sign-import.png"
            label="%Action_TourSign_ImportTourSigns"
            mnemonic="%Action_TourSign_ImportTourSigns_Mnemonic"/>
         -->
         
      </menuContribution>

   </extension>

   <extension point="org.eclipse.ui.commands">

      <command
         id             ="command.net.tourbook.preferences"
         name           ="%command_general_preferences"
         defaultHandler ="net.tourbook.application.ActionHandler_OpenDialog_Preferences"
      />

      <command
         id             ="command.net.tourbook.views.rawData.RawDataView"
         name           ="%view_name_Data_Import"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_TourImport"
      />

      <command
         id             ="command.net.tourbook.tour.TourLogView"
         name           ="%View_Name_TourLog"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_TourLog"
      />

      <command
         id             ="command.net.tourbook.views.tourListView"
         name           ="%view_name_Book"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_TourBook"
      />

      <command
         id             ="command.net.tourbook.views.tagViewID"
         name           ="%view_name_tagView"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_TaggedTours"
      />

      <command
         id             ="command.net.tourbook.views.calendar.CalendarView"
         name           ="%view_name_Calendar"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_Calendar"
      />

      <command
         id             ="command.net.tourbook.views.tourCatalog.TourCatalogView"
         name           ="%view_name_ReferenceTours"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_ReferenceTours"
      />

      <command
         id             ="command.net.tourbook.statistic.StatisticView"
         name           ="%view_name_Statistics"
         defaultHandler ="net.tourbook.statistic.ActionHandler_OpenView_Statistic"
      />

      <command
         id             ="command.net.tourbook.statistic.StatisticValuesView"
         name           ="%View_Name_StatisticValues"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_StatisticValues"
      />

      <command
         id             ="command.net.tourbook.search.SearchView"
         name           ="%View_Name_SearchAll"
         defaultHandler ="net.tourbook.search.ActionHandler_OpenView_SearchTours"
      />

      <command
         id             ="command.de.byteholder.geoclipse.poi.ShowPOI"
         name           ="%View_Name_SearchPOI"
         defaultHandler ="de.byteholder.geoclipse.poi.ActionHandler_OpenView_SearchPOI"
      />

      <command
         id             ="command.net.tourbook.views.collatedToursViewID"
         name           ="%View_Name_CollatedTours"
         defaultHandler ="net.tourbook.ui.views.collateTours.ActionHandler_OpenView_CollatedTours"
      />

      <command
         id             ="command.net.tourbook.ui.views.sensors.SensorView"
         name           ="%View_Name_Sensor"
         defaultHandler ="net.tourbook.ui.views.sensors.ActionHandler_OpenView_SensorView"/>

      <command
         id             ="command.net.tourbook.ui.views.sensors.SensorChartView"
         name           ="%View_Name_SensorChart"
         defaultHandler ="net.tourbook.ui.views.sensors.ActionHandler_OpenView_SensorChartView"/>

      <command
         id             ="command.net.tourbook.ui.views.TourMarkerAllView"
         name           ="%View_Name_TourMarkerAll"
         defaultHandler ="net.tourbook.ui.views.tourMarker.ActionHandler_OpenView_TourMarkerAll"
      />

      <command
         id             ="command.net.tourbook.views.TourMarkerView"
         name           ="%view_name_Marker"
         defaultHandler ="net.tourbook.ui.views.tourMarker.ActionHandler_OpenView_TourMarker"
      />

      <command
         id             ="command.net.tourbook.views.TourPausesView"
         name           ="%View_Name_TourPauses"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_TourPauses"
      />

      <command
         id             ="command.net.tourbook.ui.views.tagging.TourTags_View"
         name           ="%View_Name_TourTags"
         defaultHandler ="net.tourbook.ui.views.tagging.ActionHandler_OpenView_TourTags"
      />

      <command
         id             ="command.net.tourbook.views.TourBlogView"
         name           ="%View_Name_TourBlog"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_TourBlog"
      />

      <command
         id             ="command.net.tourbook.views.TourData_View"
         name           ="%View_Name_TourData"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_TourData"
      />

      <command
         id             ="command.net.tourbook.views.TourInfo_View"
         name           ="%View_Name_TourInfo"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_TourInfo"
      />

      <command
         id             ="command.net.tourbook.views.TourWaypointView"
         name           ="%View_Name_Waypoint"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_TourWaypoint"
      />

      <command
         id             ="command.net.tourbook.views.HeartRateVariabilityChart"
         name           ="%View_Name_HeartRateVariabilityChart"
         defaultHandler ="net.tourbook.ui.views.heartRateVariability.ActionHandler_OpenView_HeartRateVariability"
      />

      <command
         id             ="command.net.tourbook.views.ConconiChart"
         name           ="%View_Name_ConconiChart"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_ConconiChart"
      />

      <command
         id             ="command.net.tourbook.training.Training"
         name           ="%View_Name_Training"
         defaultHandler ="net.tourbook.training.ActionHandler_OpenView_Training"
      />

      <command
         id             ="command.net.tourbook.ui.views.TourChartSmoothingView"
         name           ="%View_Name_TourChartSmoothing"
         defaultHandler ="net.tourbook.ui.views.ActionHandler_OpenView_ChartSmoothing"
      />

      <command
         id             ="net.tourbook.command.tourChart.tool.adjustAltitude"
         name           ="%command_tourChart_tool_adjustAltitude"
      />

      <command
         id             ="net.tourbook.command.tourChart.showStartTime"
         name           ="%command_tourChart_showStartTime"
      />

      <command
         id             ="net.tourbook.command.tourChart.canScrollChart"
         name           ="%command_tourChart_canScrollChart"
      />

      <command
         id             ="net.tourbook.command.selectedTour"
         defaultHandler ="net.tourbook.ui.action.ActionHandler_OpenView_TourChart"
         name           ="%command_view_selectedTour"
      />

      <command
         id             ="net.tourbook.command.device.importFromFile"
         name           ="%command_device_importFromFile"
         defaultHandler ="net.tourbook.importdata.ActionHandlerImportFromFile"
      />
      
      <command
         id             ="net.tourbook.command.device.synchronize.direct"
         name           ="%Command_Device_ReceiveFromSerialPort_Directly"
         defaultHandler ="net.tourbook.importdata.ActionHandlerImportFromDeviceDirect"
      />

      <command
         id             ="net.tourbook.command.device.synchronize"
         name           ="%Command_Device_ReceiveFromSerialPort_Configured"
         defaultHandler ="net.tourbook.importdata.ActionHandlerImportFromDevice"
      />

      <command
         id             ="net.tourbook.command.tourChart.options"
         name           ="%command_tourChart_options"
      />

      <command
         id             ="net.tourbook.command.tourCompareWizard"
         name           ="%command_tourCompare_wizard"
         defaultHandler ="net.tourbook.ui.views.tourCatalog.ActionHandler_TourCompareWizard"
      />

      <command
         id             ="net.tourbook.command.GeoParts"
         name           ="%Command_GeoParts"
         defaultHandler ="net.tourbook.ui.views.geoCompare.ActionHandler_OpenView_GeoParts"
      />

      <command
         id             ="net.tourbook.command.tourChart.tool.graphAnalyzer"
         name           ="%command_tourChart_tool_graphAnalyzer"
         defaultHandler ="net.tourbook.ui.action.ActionHandler_OpenView_TourAnalyzer"
      />

      <command
         id             ="net.tourbook.command.tourChart.tool.tourSegmenter"
         name           ="%command_tourChart_tool_tourSegmenter"
         defaultHandler ="net.tourbook.ui.views.tourSegmenter.ActionHandler_OpenView_TourSegmenter"
      />

      <command
         id             ="net.tourbook.command.tourDataEditor"
         name           ="%command_view_tourEditor"
         defaultHandler ="net.tourbook.ui.action.ActionHandler_OpenView_TourDataEditor"
      />

      <command
         id             ="net.tourbook.mapping.command.tourMap"
         name           ="%command_tour_map_name"
         defaultHandler ="net.tourbook.map2.action.ActionHandler_OpenView_Map2"
      />

      <command
         id             ="net.tourbook.command.createNewTour"
         name           ="%Command_App_CreateNewTour"
         defaultHandler ="net.tourbook.ui.action.ActionHandler_CreateNewTour"
      />

      <!-- 
         The trick is to NOT define a "defaultHandler" otherwise 2 handlers are defined which causes an error !
       -->
      <command
         id             ="net.tourbook.command.App_ClosePart"
         name           ="%Command_App_ClosePart"/>

      <command
         id             ="net.tourbook.command.dbTool.consistencyCheck"
         name           ="%command_dbtool_consistency_check"
         defaultHandler ="net.tourbook.ui.action.ActionHandler_Database_ConsistencyCheck"/>

      <command
         id             ="net.tourbook.command.DbTool.CompressDatabase"
         name           ="%Command_DbTool_CompressDatabase"
         defaultHandler ="net.tourbook.ui.action.ActionHandler_Database_Compress"
      />

      <command
         id             ="net.tourbook.command.OpenHomePage"
         name           ="%Command_App_OpenHomePage"
         defaultHandler ="net.tourbook.ui.action.ActionHandlerOpenHomePage"
      />

      <command
         id             ="net.tourbook.command.OpenForum"
         name           ="%Command_App_OpenForum"
         defaultHandler ="net.tourbook.ui.action.ActionHandlerOpenForum"
      />

      <!--
         Photo filter
      -->            

      <command
        id              ="command.net.tourbook.PhotoFilter"
        name            ="%Action_TourPhotoFilter"
        defaultHandler  ="net.tourbook.tour.photo.ActionHandler_TourFilter_TourWithPhotos">

         <state
            id       ="org.eclipse.ui.commands.toggleState"
            class    ="org.eclipse.ui.handlers.RegistryToggleState:false"
         />

      </command>

      <!--
         Photo 
      -->

      <command
         id             ="command.net.tourbook.photo.LinkPhotoWithTourInFolder"
         name           ="%Action_PhotoDirectory_LinkPhotoWithTourInFolder"
         defaultHandler ="net.tourbook.tour.photo.ActionHandler_LinkPhotoWithTourInFolder"
      />
      
      <command
         id             ="command.net.tourbook.photo.LinkPhotoWithTourInGallerySelected"
         name           ="%Action_PhotoDirectory_LinkPhotoWithTourInGallerySelected"
         defaultHandler ="net.tourbook.tour.photo.ActionHandlerLinkPhotoWithTourInGallerySelected"
      />
      
      <command 
         id             ="command.net.tourbook.photo.LinkPhotoWithTourInGalleryAll"
         name           ="%Action_PhotoDirectory_LinkPhotoWithTourInGalleryAll"
         defaultHandler ="net.tourbook.tour.photo.ActionHandler_LinkPhotoWithTourInGalleryAll"
      />
      
      <command
         id             ="command.net.tourbook.photo.TourPhotosView"
         name           ="%View_Name_PhotoTourPhotos"
         defaultHandler ="net.tourbook.tour.photo.ActionHandler_OpenView_TourPhotos"
      />

      <command
         id             ="command.net.tourbook.PicDir.SyncPhotoWithTour"
         name           ="%Command_PicDir_SyncPhotoWithTour"
         defaultHandler ="net.tourbook.tour.photo.ActionHandler_SyncPhotoWithTour">   

         <state
            id       ="org.eclipse.ui.commands.toggleState"
            class    ="org.eclipse.ui.handlers.RegistryToggleState"
         />

      </command>


      <!--
         Photo folder history
      -->

      <command
         id             ="net.tourbook.command.PicDir.ShowNaviationHistory"
         name           ="%Command_PicDir_ShowNaviationHistory"
      />

      <command
         id             ="net.tourbook.command.PicDir.NavigateHistoryBackward"
         name           ="%Command_PicDir_History_Backward"
      />
  
      <command
         id             ="net.tourbook.command.PicDir.NavigateHistoryForward"
         name           ="%Command_PicDir_History_Forward"
      />

      <!--
         Tour signs
      
      <command id="command.net.tourbook.sign.ImportTourSigns"
         name="%Action_TourSign_ImportTourSigns"
         defaultHandler="net.tourbook.sign.ActionHandlerImportSigns"
         />

      <command id="command.net.tourbook.sign.ImportTourSignsFromFolder"
         name="%Action_TourSign_ImportTourSignsFromFolder"
         defaultHandler="net.tourbook.sign.ActionHandlerImportSignsFromFolder"
         />

      <command id="command.net.tourbook.ui.views.signImages.TourSignView"
         name="%View_Name_SignImage"
         defaultHandler="net.tourbook.sign.ActionHandlerOpenSignImageView"
         />
      -->
      
      <!--
         Tour
      -->
      <command
         id             ="command.net.tourbook.tour.RestoreTour"
         name           ="%Command_Tour_RestoreTour"
      />
      <command
         id             ="command.net.tourbook.tour.SaveTour"
         name           ="%Command_Tour_SaveTour"
      />

   </extension>

   <extension point="org.eclipse.ui.commandImages">
   
      <image   
         commandId      ="command.net.tourbook.tour.RestoreTour"
         icon           ="icons/restore-tour.png"
         disabledIcon   ="icons/restore-tour-disabled.png"
      />
      <image   
         commandId      ="command.net.tourbook.tour.SaveTour"
         icon           ="icons/save-tour.png"
         disabledIcon   ="icons/save-tour-disabled.png"
      />

   </extension>
   
   <extension  point="org.eclipse.ui.contexts">
      <context
            id="net.tourbook.chart.context.isTourChart"
            name="net.tourbook.chart.context.isTourChart">
      </context>
   </extension>


   <extension  point="net.tourbook.mapOverlay">
      <painter class="net.tourbook.map2.view.TourMapPainter"/>
   </extension>


   <extension  point="net.tourbook.tilefactory">
      <tilefactory
            class="net.tourbook.srtm.tilefactory.SRTMMapProvider"
            name="SRTM Map Provider"/>
   </extension>


   <extension   point="org.eclipse.ui.views">

      <!-- 1. Tour Directories -->
      
      <category   
         id          ="net.tourbook.category.Tour_Directory"   
         name        ="%view_category_tourDirectory"/>

         <view
            category    ="net.tourbook.category.Tour_Directory"
            id          ="net.tourbook.views.rawData.RawDataView"
            class       ="net.tourbook.ui.views.rawData.RawDataView"
            icon        ="icons/imported-tours.png"
            name        ="%view_name_Data_Import"/>
            
         <view
            category    ="net.tourbook.category.Tour_Directory"
            id          ="net.tourbook.views.tourListView"
            class       ="net.tourbook.ui.views.tourBook.TourBookView"
            icon        ="icons/tourbook-tours.png"
            name        ="%view_name_Book"/>

         <view
            category    ="net.tourbook.category.Tour_Directory"
            id          ="net.tourbook.views.calendar.CalendarView"
            class       ="net.tourbook.ui.views.calendar.CalendarView"
            icon        ="icons/calendar.png"
            name        ="%view_name_Calendar"/>

         <view
            category    ="net.tourbook.category.Tour_Directory"
            id          ="net.tourbook.views.tagViewID"
            class       ="net.tourbook.ui.views.tagging.TaggingView"
            icon        ="icons/tagged-tours.png"
            name        ="%view_name_tagView"/>

         <view
            category    ="net.tourbook.category.Tour_Directory"
            id          ="net.tourbook.ui.views.collateTours.CollatedToursView"
            class       ="net.tourbook.ui.views.collateTours.CollatedToursView"
            icon        ="icons/collated-tours.png"
            name        ="%View_Name_CollatedTours"/>

         <view
            category    ="net.tourbook.category.Tour_Directory"
            id          ="net.tourbook.views.tourCatalog.TourCatalogView"
            class       ="net.tourbook.ui.views.tourCatalog.TourCatalogView"
            icon        ="icons/reference-tours.png"
            name        ="%view_name_ReferenceTours"/>

         <view
            category    ="net.tourbook.category.Tour_Directory"
            id          ="net.tourbook.statistic.StatisticView"
            class       ="net.tourbook.statistic.StatisticView"
            icon        ="icons/statistics.png"
            name        ="%view_name_Statistics"/>

         <view
            category    ="net.tourbook.category.Tour_Directory"
            id          ="net.tourbook.ui.views.TourMarkerAllView"
            class       ="net.tourbook.ui.views.tourMarker.TourMarkerAllView"
            icon        ="icons/tour-marker-all.png"
            name        ="%View_Name_TourMarkerAll"/>


      <!-- 2. Tour Properties -->
      
      <category   
         id          ="net.tourbook.category.Tour_Properties"   
         name        ="%view_category_tour"/>

         <view
            category    ="net.tourbook.category.Tour_Properties"
            id          ="net.tourbook.views.TourChartView"
            class       ="net.tourbook.ui.tourChart.TourChartView"
            icon        ="icons/tour-chart.png"
            name        ="%view_name_Chart"/>

         <view          
            category    ="net.tourbook.category.Tour_Properties"
            id          ="net.tourbook.views.TourDataEditorView"
            class       ="net.tourbook.ui.views.tourDataEditor.TourDataEditorView"
            icon        ="icons/tour-editor.png"
            name        ="%command_view_tourEditor"/>

         <view
             category   ="net.tourbook.category.Tour_Properties"
             id         ="net.tourbook.ui.views.TourPausesView"
             class      ="net.tourbook.ui.views.TourPausesView"
             icon       ="icons/tour-pauses.png"
             name       ="%View_Name_TourPauses"/>

         <view
             category   ="net.tourbook.category.Tour_Properties"
             id         ="net.tourbook.views.TourMarkerView"
             class      ="net.tourbook.ui.views.tourMarker.TourMarkerView"
             icon       ="icons/tour-marker.png"
             name       ="%view_name_Marker"/>

         <view
            category    ="net.tourbook.category.Tour_Properties"
            id          ="net.tourbook.ui.views.tagging.TourTags_View"
            class       ="net.tourbook.ui.views.tagging.TourTags_View"
            icon        ="icons/tour-tags.png"
            name        ="%View_Name_TourTags"/>

         <view
            category    ="net.tourbook.category.Tour_Properties"
            id          ="net.tourbook.ui.views.TourBlogView"
            class       ="net.tourbook.ui.views.TourBlogView"
            icon        ="icons/tour-blog.png"
            name        ="%View_Name_TourBlog"/>

         <view
            category    ="net.tourbook.category.Tour_Properties"
            id          ="net.tourbook.ui.views.TourInfo_View"
            class       ="net.tourbook.ui.views.TourInfo_View"
            icon        ="icons/tour-info.png"
            name        ="%View_Name_TourInfo"/>

         <view
            category    ="net.tourbook.category.Tour_Properties"
            id          ="net.tourbook.views.TourWaypointView"
            class       ="net.tourbook.ui.views.TourWaypointView"
            icon        ="icons/tour-waypoint.png"
            name        ="%View_Name_Waypoint"/>

         <view
            category    ="net.tourbook.category.Tour_Properties"
            id          ="net.tourbook.ui.views.TourData_View"
            class       ="net.tourbook.ui.views.TourData_View"
            icon        ="icons/tour-data.png"
            name        ="%View_Name_TourData"/>

         <!--
            <view
               category    ="net.tourbook.category.Tour_Properties"
               id          ="net.tourbook.ui.views.signImages.TourSignView"
               class       ="net.tourbook.ui.views.signImages.TourSignView"
               icon        ="icons/sign-image.png"
               name        ="%View_Name_SignImage">
            </view>
         -->


      <!-- 3. Tools -->
      
      <category
         id          ="net.tourbook.category.Tools"
         name        ="%View_Category_Tools"/>

         <view
            category    ="net.tourbook.category.Tools"
            id          ="net.tourbook.search.SearchView"
            class       ="net.tourbook.search.SearchView"
            icon        ="icons/search.png"
            name        ="%View_Name_SearchAll"/>

         <view
            category    ="net.tourbook.category.Tools"
            id          ="de.byteholder.geoclipse.poi.poiView"
            class       ="de.byteholder.geoclipse.poi.PoiView"
            icon        ="icons/search-poi.png"
            name        ="%View_Name_SearchPOI"/>

         <view
            category    ="net.tourbook.category.Tools"
            id          ="net.tourbook.ui.views.heartRateVariability.HeartRateVariabilityView"
            class       ="net.tourbook.ui.views.heartRateVariability.HeartRateVariabilityView"
            icon        ="icons/heart-rate-variability.png"
            name        ="%View_Name_HeartRateVariabilityChart"/>

         <view
            category    ="net.tourbook.category.Tools"
            id          ="net.tourbook.conconi.ConconiView"
            class       ="net.tourbook.conconi.ConconiView"
            icon        ="icons/conconi-chart.png"
            name        ="%View_Name_ConconiChart"/>

         <view
            category    ="net.tourbook.category.Tools"
            id          ="net.tourbook.views.TourChartAnalyzer"
            class       ="net.tourbook.ui.views.TourChartAnalyzerView"
            icon        ="icons/tour-analyzer.png"
            name        ="%view_name_Analyzer"/>

         <view
            category    ="net.tourbook.category.Tools"
            id          ="net.tourbook.views.TourSegmenter"
            class       ="net.tourbook.ui.views.tourSegmenter.TourSegmenterView"
            icon        ="icons/tour-segmenter.png"
            name        ="%view_name_Segmenter"/>

         <view
            category    ="net.tourbook.category.Tools"
            id          ="net.tourbook.ui.views.TourChartSmoothingView"
            class       ="net.tourbook.ui.views.TourChartSmoothingView"
            icon        ="icons/smooth.png"
            name        ="%View_Name_TourChartSmoothing"/>

         <view
            category    ="net.tourbook.category.Tools"
            id          ="net.tourbook.statistic.StatisticValuesView"
            class       ="net.tourbook.statistic.StatisticValuesView"
            icon        ="icons/statistic-values.png"
            name        ="%View_Name_StatisticValues"/>

         <view
            category    ="net.tourbook.category.Tools"
            id          ="net.tourbook.tour.TourLogView"
            class       ="net.tourbook.tour.TourLogView"
            icon        ="icons/tour-log.png"
            name        ="%View_Name_TourLog"/>

         <view
            category    ="net.tourbook.category.Tools"
            id          ="net.tourbook.training.TrainingView"
            class       ="net.tourbook.training.TrainingView"
            icon        ="icons/pulse-zones.png"
            name        ="%View_Name_Training"/>


      <!-- 4. Compare tours -->

      <category
         id          ="net.tourbook.category.compareTours"
         name        ="%view_category_compare_tours"/>

         <view
            category    ="net.tourbook.category.compareTours"
            id          ="net.tourbook.views.tourCatalog.CompareResultView"
            class       ="net.tourbook.ui.views.tourCatalog.TourCompareResultView"
            icon        ="icons/tour-map-compare-result.png"
            name        ="%view_name_Compare_Result"/>

         <view
            category    ="net.tourbook.category.compareTours"
            id          ="net.tourbook.views.tourCatalog.referenceTourView"
            class       ="net.tourbook.ui.views.tourCatalog.TourCatalogView_ReferenceTour"
            icon        ="icons/tour-map-reftour.png"
            name        ="%view_name_tourCatalog_referenceTour"/>

         <view
            category    ="net.tourbook.category.compareTours"
            id          ="net.tourbook.views.tourCatalog.comparedTourView"
            class       ="net.tourbook.ui.views.tourCatalog.TourCatalogView_ComparedTour"
            icon        ="icons/tour-map-comparetour.png"
            name        ="%view_name_tourCatalog_comparedTour"/>

         <view
            category    ="net.tourbook.category.compareTours"
            id          ="net.tourbook.views.tourCatalog.yearStatisticView"
            class       ="net.tourbook.ui.views.tourCatalog.RefTour_YearStatistic_View"
            icon        ="icons/tour-map-statistic.png"
            name        ="%view_name_tourCatalog_statistics"/>

         <view
            category    ="net.tourbook.category.compareTours"
            id          ="net.tourbook.ui.views.geoCompare.GeoCompareView"
            class       ="net.tourbook.ui.views.geoCompare.GeoCompareView"
            icon        ="icons/geo-parts.png"
            name        ="%View_Name_Compare_GeoParts"/>


      <!-- 5. Photo -->    

      <category
         id          ="net.tourbook.category.photo"
         name        ="%View_Category_Photo"/>
               
         <view
            category    ="net.tourbook.category.photo"
            id          ="net.tourbook.photo.PhotosAndToursView.ID"
            class       ="net.tourbook.tour.photo.TourPhotoLinkView"
            icon        ="icons/photo-and-tours-view.png"
            name        ="%View_Name_PhotosAndTours"/>

         <view
            category    ="net.tourbook.category.photo"
            id          ="net.tourbook.photo.TourPhotosView.ID"
            class       ="net.tourbook.tour.photo.TourPhotosView"
            icon        ="icons/photo-tour-photos.png"
            name        ="%View_Name_PhotoTourPhotos"/>


      <!-- 6. Map -->            

      <category
         id          ="net.tourbook.category.map"
         name        ="%View_Category_Map"/>

         <view
            category    ="net.tourbook.category.map"
            id          ="net.tourbook.map2.view.Map2ViewId"
            class       ="net.tourbook.map2.view.Map2View"
            icon        ="icons/map2-view.png"
            name        ="%view_name_tour_map"/>


      <!-- 7. Equipment -->            

      <category
         id          ="net.tourbook.category.Equipment"
         name        ="%View_Category_Equipment"/>

         <view
            category    ="net.tourbook.category.Equipment"
            id          ="net.tourbook.ui.views.sensors.SensorView.ID"
            class       ="net.tourbook.ui.views.sensors.SensorView"
            icon        ="icons/sensor.png"
            name        ="%View_Name_Sensor"/>

         <view
            category    ="net.tourbook.category.Equipment"
            id          ="net.tourbook.ui.views.sensors.SensorChartView.ID"
            class       ="net.tourbook.ui.views.sensors.SensorChartView"
            icon        ="icons/sensor-chart.png"
            name        ="%View_Name_SensorChart"/>


      <!-- 99. System -->    

      <category
         id          ="net.tourbook.category.system"
         name        ="%view_category_system"/>

         <view
               category    ="net.tourbook.category.system"
               id          ="org.eclipse.ui.views.ProgressView"
               class       ="org.eclipse.ui.ExtensionFactory:progressView"
               icon        ="icons/pview.gif"
               name        ="Progress View"/>

         <view
               category    ="net.tourbook.category.system"
               id          ="net.tourbook.views.TourChartPropertyView"
               class       ="net.tourbook.ui.views.TourChartPropertyView"
               icon        ="icons/tourchart-properties.gif"
               name        ="%view_name_ChartProperty"/>

         <view
               category    ="net.tourbook.category.system"
               id          ="net.tourbook.map2.view.Map2DebugView"
               class       ="net.tourbook.map2.view.Map2DebugView"
               icon        ="icons/tour-map-properties.png"
               name        ="%view_name_map_properties"/>

   </extension>
   
   
   <extension  point="org.eclipse.ui.keywords">

      <keyword
            id="net.tourbook.keywordReference.PrefPageTour"
            label="%Pref_Page_Tour_Keywords">
      </keyword>

   </extension>


   <extension  point="org.eclipse.ui.bindings">

      <scheme
         id          ="net.tourbook.scheme"
         name        ="MyTourbook Scheme"
         parentId    ="org.eclipse.ui.defaultAcceleratorConfiguration"/>

      <!-- New -->

      <key
         commandId   ="net.tourbook.command.App_ClosePart"
         sequence    ="%Shortcut_Key_App_ClosePart"
         contextId   ="org.eclipse.ui.contexts.window"
         schemeId    ="net.tourbook.scheme"/>

      <!-- Directories -->            

      <key
         commandId="command.net.tourbook.views.rawData.RawDataView"
         sequence="%Shortcut_Key_App_TourImport"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>

      <key
         commandId="command.net.tourbook.views.tourListView"
         sequence="%Shortcut_Key_App_TourBook"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>

      <key
         commandId="command.net.tourbook.views.tagViewID"
         sequence="%Shortcut_Key_App_TaggedTours"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>

      <key
         commandId="command.net.tourbook.views.tourCatalog.TourCatalogView"
         sequence="%Shortcut_Key_App_ReferenceTours"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>

      <key
         commandId="command.net.tourbook.views.collatedToursViewID"
         sequence="%Shortcut_Key_App_CollatedTours"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>

      <key
         commandId="command.net.tourbook.views.calendar.CalendarView"
         sequence="%Shortcut_Key_App_Calendar"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>

      <key
         commandId="command.net.tourbook.statistic.StatisticView"
         sequence="%Shortcut_Key_App_Statistic"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>

      <key
         commandId="command.net.tourbook.ui.views.TourMarkerAllView"
         sequence="%Shortcut_Key_App_TourMarker"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>

      <key
         commandId="command.net.tourbook.ui.views.sensors.SensorView"
         sequence="%Shortcut_Key_App_Sensors"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>


      <!-- Tour import/new/undo -->
   
      <key
         commandId="net.tourbook.command.device.importFromFile"
         sequence="%Shortcut_Key_App_ImportFromFile"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"
      />

      <key
         commandId   ="net.tourbook.command.createNewTour"
         sequence    ="%Shortcut_Key_App_NewTour"
         contextId   ="org.eclipse.ui.contexts.window"
         schemeId    ="net.tourbook.scheme"
      />

      <key
         commandId   ="command.net.tourbook.tour.RestoreTour"
         sequence    ="%Shortcut_Key_App_RestoreTour"
         contextId   ="org.eclipse.ui.contexts.window"
         schemeId    ="net.tourbook.scheme"
      />
      <key
         commandId   ="command.net.tourbook.tour.SaveTour"
         sequence    ="%Shortcut_Key_App_SaveTour"
         contextId   ="org.eclipse.ui.contexts.window"
         schemeId    ="net.tourbook.scheme"
      />


      <!-- Picture directory -->            

      <key
         commandId="net.tourbook.command.PicDir.ShowNaviationHistory"
         sequence="%Shortcut_Key_PicDir_ShowNavigationHistory"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>
      
      <key
         commandId="net.tourbook.command.PicDir.NavigateHistoryBackward"
         sequence="%Shortcut_Key_PicDir_History_Backward"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>
      
      <key
         commandId="net.tourbook.command.PicDir.NavigateHistoryBackward"
         sequence="%Shortcut_Key_PicDir_History_Backward_OSX"
         platform="carbon"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>
      
      <key
         commandId="net.tourbook.command.PicDir.NavigateHistoryForward"
         sequence="%Shortcut_Key_PicDir_History_Forward"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>
      
      <key
         commandId="net.tourbook.command.PicDir.NavigateHistoryForward"
         sequence="%Shortcut_Key_PicDir_History_Forward_OSX"
         platform="carbon"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>


      <!-- Preferences -->            

      <key
         commandId="command.net.tourbook.preferences"
         sequence="%Shortcut_Key_App_Preferences"
         contextId="org.eclipse.ui.contexts.window"
         schemeId="net.tourbook.scheme"/>

      <!-- Tools -->
   
      <key
         commandId   ="command.net.tourbook.search.SearchView"
         sequence    ="%Shortcut_Key_App_Search"
         contextId   ="org.eclipse.ui.contexts.window"
         schemeId    ="net.tourbook.scheme"/>
   
      <key
         commandId   ="command.de.byteholder.geoclipse.poi.ShowPOI"
         sequence    ="%Shortcut_Key_App_SearchPlaces"
         contextId   ="org.eclipse.ui.contexts.window"
         schemeId    ="net.tourbook.scheme"/>
  
   </extension>


   <!-- 
   
    MAP 2.5   
   
   -->
   
   
   <!-- COMMANDS -->

   <extension point="org.eclipse.ui.commands">

      <command
            id="net.tourbook.map25.command.TourMap25"
            name="%View_Name_TourMap25"
            defaultHandler="net.tourbook.map25.action.ActionHandler_OpenView_Map25"
            />
               
   </extension>



   <!-- MENUS -->

   <extension point="org.eclipse.ui.menus">

      <menuContribution locationURI="menu:m_Map?before=sep_Map" >
                  
         <command
            commandId	="net.tourbook.map25.command.TourMap25"
            icon			="icons/map25-view.png"
            label			="%View_Name_TourMap25"
            mnemonic		="%View_Name_TourMap25_Mnemonic"
         >

<!-- DISABLED FOR NOW, MT is crashing when using Eclipse 21-09 and W10 -> using Eclipse 21-06

            <visibleWhen>
               <test
                  forcePluginActivation   ="true"
                  property                ="net.tourbook.commands.PropertyTester_IsLinuxOrOSX"
                  value                   ="true"
               >
               </test>
            </visibleWhen>
-->

         </command>
      
      </menuContribution>

      <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar">
                  
         <toolbar id="mc_tb_Tour">
                  
            <command
               commandId	="net.tourbook.map25.command.TourMap25"
               icon			="icons/map25-view.png"
               label			="%View_Name_TourMap25"
               tooltip		="%View_Name_TourMap25_Tooltip"
            >
            
<!-- DISABLED FOR NOW, MT is crashing when using Eclipse 21-09 and W10 -> using Eclipse 21-06

               <visibleWhen>
                  <test
                     forcePluginActivation   ="true"
                     property                ="net.tourbook.commands.PropertyTester_IsLinuxOrOSX"
                     value                   ="true"
                  >
                  </test>
               </visibleWhen>
-->

            </command>

         </toolbar>
      
      </menuContribution>


   </extension>



   <!-- VIEWS -->

   <extension point="org.eclipse.ui.views">

      <view
         category    ="net.tourbook.category.map"
         id          ="net.tourbook.map25.Map25View"
         class       ="net.tourbook.map25.Map25View"
         icon        ="icons/map25-view.png"
         name        ="%View_Name_TourMap25"
      />

      <view
         category    ="net.tourbook.category.map"
         id          ="net.tourbook.map25.Map25DebugView"
         class       ="net.tourbook.map25.Map25DebugView"
         icon        ="icons/map25-debug-view.png"
         name        ="%View_Name_TourMap25Debug"
      />
   
   </extension>



   <!-- 
   
    MAP 3   MAP 3   MAP 3   MAP 3   MAP 3   MAP 3   MAP 3   MAP 3   MAP 3   MAP 3   MAP 3   MAP 3   
   
   -->
   
   
   <!-- COMMANDS -->

   <extension point="org.eclipse.ui.commands">

      <command
            id="net.tourbook.map3.command.TourMap3"
            name="%View_Name_TourMap3"
            defaultHandler="net.tourbook.map3.action.ActionHandler_OpenView_Map3"
            />
               
   </extension>



   <!-- MENUS -->

   <extension point="org.eclipse.ui.menus">

      <menuContribution locationURI="menu:m_Map?after=sep_Map" >
                  
         <command commandId="net.tourbook.map3.command.TourMap3"
            icon="icons/map3-view.png"
            label="%View_Name_TourMap3"
            mnemonic="%View_Name_TourMap3_Mnemonic"/>
      
      </menuContribution>

      <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar">
                  
         <toolbar id="mc_tb_Tour">
                  
            <command
               commandId="net.tourbook.map3.command.TourMap3"
               icon="icons/map3-view.png"
               label="%View_Name_TourMap3"
               tooltip="%View_Name_TourMap3_Tooltip"/>

         </toolbar>
      
      </menuContribution>

   </extension>



   <!-- VIEWS -->

   <extension point="org.eclipse.ui.views">

      <view
         category    ="net.tourbook.category.map"
         id          ="net.tourbook.map3.view.Map3ViewId"
         class       ="net.tourbook.map3.view.Map3View"
         icon        ="icons/map3-view.png"
         name        ="%View_Name_TourMap3"
      />

      <view
         category    ="net.tourbook.category.map"
         id          ="net.tourbook.map3.Map3StatisticsView"
         class       ="net.tourbook.map3.view.Map3StatisticsView"
         icon        ="icons/map3-statistics.png"
         name        ="%View_Name_Map3Statistics"
      />
   
   </extension>


   <!-- 
   
    MAP BOOKMARKS   -  MAP BOOKMARKS   -  MAP BOOKMARKS   -  MAP BOOKMARKS   -  MAP BOOKMARKS
   
   -->

   <extension point="org.eclipse.ui.commands">

      <command
            id="net.tourbook.map.bookmark.command.MapBookmarkView"
            name="%View_Name_MapBookmark"
            defaultHandler="net.tourbook.map.bookmark.ActionHandler_OpenView_MapBookmarks"
            />
               
   </extension>
   

   <!-- MENUS -->

   <extension point="org.eclipse.ui.menus">

      <menuContribution locationURI="menu:m_Map?endof=sep_Bookmarks" >
                  
         <command commandId="net.tourbook.map.bookmark.command.MapBookmarkView"
            icon="icons/map-bookmark.png"
            label="%View_Name_MapBookmark"
            mnemonic="%View_Name_MapBookmark_Mnemonic"/>
      
      </menuContribution>

      <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar">
                  
         <toolbar id="mc_tb_Tour">
                  
            <command
               commandId="net.tourbook.map.bookmark.command.MapBookmarkView"
               icon="icons/map-bookmark.png"
               label="%View_Name_MapBookmark"
               tooltip="%View_Name_MapBookmark_Tooltip"/>

         </toolbar>
      
      </menuContribution>

   </extension>



   <!-- VIEWS -->

   <extension point="org.eclipse.ui.views">

      <view
         category    ="net.tourbook.category.map"
         id          ="net.tourbook.map.bookmark.MapBookmarkView"
         class       ="net.tourbook.map.bookmark.MapBookmarkView"
         icon        ="icons/map-bookmark.png"
         name        ="%View_Name_MapBookmark"
      />

   </extension>


   <!-- E4 MODEL FRAGMENT -->

   <extension
      id="net.tourbook.fragment"
      point="org.eclipse.e4.workbench.model">
      
      <fragment
         uri="fragment.e4xmi">
      </fragment>
   </extension>
   
   
   <!-- COMMAND FRAMEWORK TO ENABLE/DISABLE MENU ITEMS -->
   
   <!--
   <extension point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
         id          ="net.tourbook.propertyTester.TourEditor_Tester"
         class       ="net.tourbook.commands.TourEditor_Tester"
         namespace   ="net.tourbook.expression.TourEditor"
         properties  ="isDirty"
         type        ="java.lang.Object"
      />
   </extension>
   -->

   
   <extension point="org.eclipse.ui.handlers">

      <!-- this handler is enabled/disabled in the command handler: net.tourbook.commands.RestoreTour_Handler.isEnabled() -->
      <handler
         commandId   ="command.net.tourbook.tour.RestoreTour"
         class       ="net.tourbook.commands.RestoreTour_Handler"
      />

      <!-- this handler is enabled/disabled in the command handler: net.tourbook.commands.SaveTour_Handler.isEnabled() -->
      <handler
         commandId   ="command.net.tourbook.tour.SaveTour"
         class       ="net.tourbook.commands.SaveTour_Handler"
      />

      <!-- This handler is enabled when at least one part is opened -->
      <handler
            commandId   ="net.tourbook.command.App_ClosePart"
            class       ="net.tourbook.commands.ClosePart_Handler"
      >
         <enabledWhen>
            <with variable="activePart">
               <not>
                  <equals value=""/>
               </not>
            </with>
         </enabledWhen>
      </handler>

   </extension>

   <extension point="org.eclipse.core.expressions.definitions">

      <!-- Show the save/restore actions only when these parts are active -->

      <definition id="net.tourbook.definition.isTourEditorActive">
         <with variable="activePartId">
            <or>
               <equals value="net.tourbook.views.TourDataEditorView"/>
               <equals value="net.tourbook.ui.views.tagging.TourTags_View"/>
            </or>
         </with>
      </definition>
      
   </extension>

   <extension point="org.eclipse.core.expressions.propertyTesters">
   
      <propertyTester
         id          ="de.byteholder.geoclipse.tester.propertyTester"
         namespace   ="de.byteholder.geoclipse.tester"
         properties  ="someProperty"
         type        ="java.lang.Object"
         class       ="de.byteholder.geoclipse.tileinfo.TrimPropertyTester"
      />
      
      <propertyTester
         id          ="net.tourbook.commands.PropertyTester_IsLinuxOrOSX"
         namespace   ="net.tourbook.commands.tester"
         properties  ="Is_Linux"
         type        ="java.lang.Object"
         class       ="net.tourbook.commands.PropertyTester_IsLinuxOrOSX"
      />
      
   </extension>

</plugin>

